/**
 * angular-ui-notification - Angular.js service providing simple notifications using Bootstrap 3 styles with css transitions for animating
 * @author Alex_Crack
 * @version v0.0.5
 * @link https://github.com/alexcrack/angular-ui-notification
 * @license MIT
 */
angular.module("ui-notification",[]),angular.module("ui-notification").value("uiNotificationTemplates","angular-ui-notification.html"),angular.module("ui-notification").factory("Notification",["$timeout","uiNotificationTemplates","$http","$compile","$templateCache","$rootScope","$injector","$sce",function(i,t,o,n,e,a,s,l){var c=10,r=10,p=10,u=10,m=5e3,f=[],d=function(s,d){"object"!=typeof s&&(s={message:s}),s.template=s.template?s.template:t,s.delay=angular.isUndefined(s.delay)?m:s.delay,s.type=d?d:"",o.get(s.template,{cache:e}).success(function(t){var o=a.$new();if(o.message=l.trustAsHtml(s.message),o.title=l.trustAsHtml(s.title),o.t=s.type.substr(0,1),o.delay=s.delay,"object"==typeof s.scope)for(var e in s.scope)o[e]=s.scope[e];var m=function(){for(var i=0,t=0,o=c,n=[],e=f.length-1;e>=0;e--){var a=f[e],s=parseInt(a[0].offsetHeight),l=parseInt(a[0].offsetWidth),m=n[a._positionX+a._positionY];console.log(a),console.log(m),d+s>window.innerHeight&&(m=c,t++,i=0);var d=(o=m?m:c)+(0===i?0:p),g=r+t*(u+l);console.log(d),a.css(a._positionX,d+"px"),a.css(a._positionY,g+"px"),n[a._positionX+a._positionY]=d+s,i++}},d=n(t)(o);s._positionX=s._positionX?s._positionX:"top",s._positionY=s._positionY?s._positionY:"right",d._positionX=s._positionX,d._positionY=s._positionY,d.addClass(s.type),d.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd click",function(i){i=i.originalEvent||i,("click"===i.type||"opacity"===i.propertyName&&i.elapsedTime>=1)&&(d.remove(),f.splice(f.indexOf(d),1),m())}),angular.isNumber(s.delay)&&i(function(){d.addClass("killed")},s.delay),angular.element(document.getElementsByTagName("body")).append(d),f.push(d),i(m)}).error(function(i){throw new Error("Template ("+s.template+") could not be loaded. "+i)})};return d.config=function(i){c=i.top?i.top:c,p=i.verticalSpacing?i.verticalSpacing:p},d.primary=function(i){this(i,"primary")},d.error=function(i){this(i,"error")},d.success=function(i){this(i,"success")},d.info=function(i){this(i,"info")},d.warning=function(i){this(i,"warning")},d.clearAll=function(){var i=angular.element(document.getElementsByClassName("ui-notification"));i&&angular.forEach(i,function(i){i.remove()})},d.TopLeft=function(i){this({message:i,_positionY:"left"},"primary")},d.BottomRight=function(i){this({message:i,_positionX:"bottom",_positionY:"right"},"primary")},d.BottomLeft=function(i){this({message:i,_positionX:"bottom",_positionY:"left"},"primary")},d}]),angular.module("ui-notification").run(["$templateCache",function(i){i.put("angular-ui-notification-flat.html",'<div class="ui-notification"><h3 ng-show="title" ng-bind-html="title"></h3><div class="message" ng-bind-html="message"></div></div>'),i.put("angular-ui-notification.html",'<div class="ui-notification"><h3 ng-show="title" ng-bind-html="title"></h3><div class="message" ng-bind-html="message"></div></div>')}]);