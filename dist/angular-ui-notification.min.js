/**
 * angular-ui-notification - Angular.js service providing simple notifications using Bootstrap 3 styles with css transitions for animating
 * @author Alex_Crack
 * @version v0.0.8
 * @link https://github.com/alexcrack/angular-ui-notification
 * @license MIT
 */
angular.module("ui-notification",[]),angular.module("ui-notification").value("uiNotificationTemplates","angular-ui-notification.html"),angular.module("ui-notification").provider("Notification",function(){this.options={delay:5e3,startTop:10,startRight:10,verticalSpacing:10,horizontalSpacing:10,positionX:"right",positionY:"top",replaceMessage:!1},this.setOptions=function(t){if(!angular.isObject(t))throw new Error("Options should be an object!");this.options=angular.extend({},this.options,t)},this.$get=["$timeout","uiNotificationTemplates","$http","$compile","$templateCache","$rootScope","$injector","$sce",function(t,i,n,o,e,a,s,r){var l=this.options,p=l.startTop,c=l.startRight,u=l.verticalSpacing,d=l.horizontalSpacing,m=l.delay,f=[],g=function(s,g){"object"!=typeof s&&(s={message:s}),s.scope=s.scope?s.scope:a,s.template=s.template?s.template:i,s.delay=angular.isUndefined(s.delay)?m:s.delay,s.type=g?g:"",s.positionY=s.positionY?s.positionY:l.positionY,s.positionX=s.positionX?s.positionX:l.positionX,n.get(s.template,{cache:e}).success(function(i){var n=s.scope.$new();n.message=r.trustAsHtml(s.message),n.title=r.trustAsHtml(s.title),n.t=s.type.substr(0,1),n.delay=s.delay;var e=function(){for(var t=0,i=0,n=p,o=c,e=[],a=f.length-1;a>=0;a--){var s=f[a],r=parseInt(s[0].offsetHeight),l=parseInt(s[0].offsetWidth),m=e[s._positionY+s._positionX];g+r>window.innerHeight&&(m=p,i++,t=0);var g=(n=m?m:p)+(0===t?0:u),h=o+i*(d+l);s.css(s._positionY,g+"px"),s.css(s._positionX,h+"px"),e[s._positionY+s._positionX]=g+r,t++}},a=o(i)(n);a._positionY=s.positionY,a._positionX=s.positionX,a.addClass(s.type),a.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd click",function(t){t=t.originalEvent||t,("click"===t.type||"opacity"===t.propertyName&&t.elapsedTime>=1)&&(a.remove(),f.splice(f.indexOf(a),1),e())}),angular.isNumber(s.delay)&&t(function(){a.addClass("killed")},s.delay),angular.element(document.getElementsByTagName("body")).append(a);var l=-(parseInt(a[0].offsetHeight)+50);a.css(a._positionY,l+"px"),f.push(a),t(e)}).error(function(t){throw new Error("Template ("+s.template+") could not be loaded. "+t)})};return g.primary=function(t){this(t,"primary")},g.error=function(t){this(t,"error")},g.success=function(t){this(t,"success")},g.info=function(t){this(t,"info")},g.warning=function(t){this(t,"warning")},g.clearAll=function(){var t=angular.element(document.getElementsByClassName("ui-notification"));t&&angular.forEach(t,function(t){t.remove()})},g}]}),angular.module("ui-notification").run(["$templateCache",function(t){t.put("angular-ui-notification.html",'<div class="ui-notification"><h3 ng-show="title" ng-bind-html="title"></h3><div class="message" ng-bind-html="message"></div></div>')}]);